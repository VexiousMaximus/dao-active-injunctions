<!DOCTYPE html>
<html>
<head>
  <title>DAO Active Injunctions</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <style>
    #map {
      height: 100vh;
      background-color: #c9f7f7; /* light teal background */
    }

    /* Remove weird focus outline on click */
    .leaflet-interactive:focus {
      outline: none;
    }
  </style>
</head>
<body>

<div id="map"></div>

<script>
  // ===============================
  // IMAGE SETTINGS
  // ===============================

  var imageWidth = 3500;
  var imageHeight = 3500;

  var bounds = [[0, 0], [imageHeight, imageWidth]];

  var map = L.map('map', {
    crs: L.CRS.Simple,
    minZoom: -5,
    maxZoom: 5,
    maxBounds: bounds,
    maxBoundsViscosity: 1.0
  });

  L.imageOverlay('https://i.imgur.com/f4u7N6M.jpeg', bounds).addTo(map);

  map.fitBounds(bounds);

  // Start zoomed in properly
  map.setZoom(3);

  // ===============================
  // CTRL + CLICK COORDINATE TOOL
  // ===============================

  map.on('click', function(e) {
    if (e.originalEvent.ctrlKey) {

      var y = Math.round(e.latlng.lat);
      var x = Math.round(e.latlng.lng);

      L.popup()
        .setLatLng(e.latlng)
        .setContent(
          "<b>Coordinates:</b><br>" +
          "[ " + y + ", " + x + " ]<br><br>" +
          "Rectangle format example:<br>" +
          "[[" + y + ", " + x + "], [Y2, X2]]"
        )
        .openOn(map);

      console.log("Coordinate:", "[" + y + ", " + x + "]");
    }
  });

  // ===============================
  // REGION DEFINITIONS
  // ===============================

  // ---- PUBLIC SAFETY ZONE 1 ----
  var publicSafetyZone1 = L.polygon([
    [1631, 2199],
    [1590, 2234],
    [1499, 2230],
    [1491, 2257],
    [1301, 2234],
    [1296, 2151],
    [1262, 2113],
    [1325, 2032],
    [1333, 2015],
    [1372, 2049],
    [1409, 2002],
    [1634, 2194]
  ], {
    color: "#ff0000",
    weight: 2,
    fillColor: "#ff0000",
    fillOpacity: 0.4
  }).addTo(map);

  publicSafetyZone1.bindTooltip(
    "PUBLIC SAFETY ZONE 1 - SOUTHSIDE LOCOS 13",
    { direction: "center" }
  );

  // ---- HALL OF JUSTICE / DAO OPS ----
  var hallofjustice = L.polygon([
    [1506, 2066],
    [1595, 1962],
    [1635, 2036],
    [1569, 2116]
  ], {
    color: "#23FA00",
    weight: 2,
    fillColor: "#23FA00",
    fillOpacity: 0.4
  }).addTo(map);

  hallofjustice.bindTooltip(
    "HALL OF JUSTICE / DAO OPS",
    { direction: "center" }
  );

  // ===============================
  // TEMPLATE FOR NEW REGIONS
  // ===============================
  /*
  var newRegion = L.rectangle(
    [[1000, 1200], [1400, 1700]],
    {
      color: "#0000ff",
      weight: 2,
      fillColor: "#0000ff",
      fillOpacity: 0.4
    }
  ).addTo(map);

  newRegion.bindTooltip("New Region Name", {
    direction: "center"
  });
  */
</script>

</body>
</html>
